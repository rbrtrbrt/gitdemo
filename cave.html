<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Cave</title>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="stylesheet.css">
        <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Press+Start+2P&display=swap" rel="stylesheet">
        <script>
            $(window).scroll(function() {
                var scrollTop = $(this).scrollTop();
                $('.pink-header-bg').css('top', - (scrollTop * 0.1));
                $('.pink-header-bg2').css('top', - (scrollTop * 0.3));
                $('.pink-header-bg3').css('top', - (scrollTop * 0.5));
                $('.pink-header-bg4').css('top', - (scrollTop * 0.7));
                $('.pink-header-bg5').css('top', - (scrollTop * 0.9));
                $('.pink-header-bg6').css('top', - (scrollTop * 0.95));
                $('.transition-box').css('top', - (scrollTop * 1));
                $('.footer-bg').css('top', - (scrollTop * 0.94));
                $('.footer-bg2').css('top', - (scrollTop ));
                $('.chest').css('top', - (scrollTop ));
                $('.chestOpen').css('top', - (scrollTop ));
                $('.adventurer-cave').css('top', - (scrollTop ));
                $('.evilAdventurer').css('top', - (scrollTop ));
                $('.dialog5').css('top', - (scrollTop ));
            });

            function scrollBottom() {
                window.scrollTo(0, 99999)
            }

            if (document.addEventListener) {
                document.addEventListener("DOMContentLoaded", scrollBottom, false)
            } else if (window.attachEvent) {
                window.attachEvent("onload", scrollBottom)
            }

            const hero_anchor = $('.adventurer-cave').offset().top - screen.height + 100;
            $('.adventurer-cave').addClass("in-cave");
            $(window).on('scroll', function () {
                if ($(window).scrollTop() > hero_anchor)
                    $('.adventurer-cave').addClass("walking");
            });
            $('.adventurer-cave').bind('animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd', function (e) {
                $(this).addClass("idle");
            });
        </script>
        
    </head>
    <body>
        <header>
            <div class="pink-header-bg"></div>
            <div class="pink-header-bg2"></div>
            <div class="pink-header-bg3"></div>
            <div class="pink-header-bg4"></div>
            <div class="pink-header-bg5"></div>
            <div class="pink-header-bg6"></div>
            <div class="transition-box"></div>
        </header>
        <div class="underground"></div>
        <footer>
            <div class="footer-bg"></div>
            <div class="footer-bg2"></div>
            <a name="bottom"></a>
            <div class="chest"></div>
            <div class="chestOpen"></div>
            <div class="adventurer-cave"></div>
            <div class="evilAdventurer"></div>

            <div id="overlay"></div>

            <div id="dialog5">
                <p>You got the gold back. Let's return it! Or... keep it for ourselves?</p>
            </div>

            <div id="disableScrollDiv"></div>

        </footer>
        <script src="script.js"></script>
    </body>
</html>